<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ultraviolence | Archive</title>
    <style>
        /* ALL 10 FONTS LOADED */
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Courier+Prime&family=Homemade+Apple&family=Special+Elite&family=Playfair+Display:ital,wght@1,700&family=Parisienne&family=Dancing+Script&family=IM+Fell+English+SC&family=Libre+Barcode+39&display=swap');

        :root {
            --cherry: #8b0000;
            --cream: #f4f1ea;
            --ink: #1a1a1a;
            --paper: #fdfaf0;
        }

        body { background-color: var(--cream); margin: 0; padding: 0; font-family: 'Courier Prime', monospace; overflow-x: hidden; color: var(--ink); }

        /* NAV */
        nav {
            background: #000; padding: 20px; display: flex; justify-content: center; gap: 50px;
            position: sticky; top: 0; z-index: 9999; border-bottom: 4px solid var(--cherry);
        }
        nav button {
            background: transparent; border: none; color: white; font-family: 'Bebas Neue'; 
            font-size: 1.8rem; cursor: pointer; letter-spacing: 3px; transition: 0.3s;
        }
        nav button:hover { color: var(--cherry); }

        .view { display: none; min-height: 100vh; width: 100%; }
        .view.active { display: block; }

        /* HOME PAGE (UNCHANGED) */
        .moodboard { padding: 50px; display: flex; flex-direction: column; align-items: center; background: #000; color: white; min-height: 100vh; }
        .hero-text { font-family: 'Playfair Display'; font-weight: 900; font-size: 8rem; margin: 20px 0; text-transform: uppercase; letter-spacing: -5px; }
        .scrapbook-area { display: flex; gap: 30px; margin-top: 40px; flex-wrap: wrap; justify-content: center; }
        .polaroid { background: white; padding: 15px 15px 50px 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); transform: rotate(-2deg); }
        .polaroid img { width: 250px; height: 320px; object-fit: cover; }

        /* PLANNER (UNCHANGED) */
        .planner-container { display: flex; height: calc(100vh - 80px); background: white; }
        .calendar-view { flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; }
        .grid-header { display: grid; grid-template-columns: 80px repeat(7, 1fr); background: #f9f9f9; border-bottom: 2px solid #000; }
        .day-label { padding: 10px; text-align: center; border-left: 1px solid #ddd; font-family: 'Bebas Neue'; }
        .scroll-area { overflow-y: scroll; flex-grow: 1; display: flex; }
        .time-col { width: 80px; background: #f0f0f0; border-right: 1px solid #ccc; }
        .time-slot-label { height: 60px; text-align: center; font-size: 0.7rem; color: #888; border-bottom: 1px solid #eee; line-height: 60px; }
        .grid-columns { display: grid; grid-template-columns: repeat(7, 1fr); width: 100%; }
        .grid-day { border-left: 1px solid #eee; height: 1440px; position: relative; }
        .hour-slot { height: 60px; border-bottom: 1px solid #f0f0f0; }

        /* DIARY SECTION */
        #diary { background: #0a0a0a; }
        .diary-flex { display: flex; align-items: center; justify-content: center; padding: 40px 0; gap: 20px; }
        
        /* SIDEBAR WITH SEARCH */
        .archive-side { 
            width: 280px; background: #000; color: white; padding: 25px; height: 650px; 
            display: flex; flex-direction: column; gap: 15px; border: 1px solid #222;
        }
        .archive-side h3 { font-family: 'Bebas Neue'; color: var(--cherry); font-size: 2.2rem; margin: 0; }
        .archive-side label { font-size: 0.7rem; letter-spacing: 2px; color: #666; font-weight: bold; }
        .archive-side select, .archive-side input { 
            background: #111; border: 1px solid #333; color: white; padding: 10px; font-family: 'Courier Prime'; width: 100%; 
        }

        /* WORD SEARCH RESULTS AREA */
        #results { 
            flex-grow: 1; overflow-y: auto; margin-top: 10px; border-top: 1px solid #222; padding-top: 10px; 
        }
        .search-item { 
            padding: 8px; font-size: 0.8rem; color: #aaa; cursor: pointer; border-bottom: 1px solid #111;
        }
        .search-item:hover { color: var(--cherry); background: #050505; }

        /* THE BOOK */
        .book { width: 950px; height: 650px; background: var(--paper); display: flex; box-shadow: 0 0 60px #000; position: relative; }
        .book::before { content:''; position: absolute; left: 50%; width: 2px; height: 100%; background: rgba(0,0,0,0.1); z-index: 5; }
        .page-content { width: 50%; padding: 50px; background-image: linear-gradient(#e5e5e5 1px, transparent 1px); background-size: 100% 35px; position: relative; }
        textarea { width: 100%; height: 100%; background: transparent; border: none; outline: none; resize: none; line-height: 35px; }

        /* NAVIGATION BUTTONS */
        .book-nav {
            position: absolute; bottom: -60px; width: 100%; display: flex; justify-content: space-between;
        }
        .nav-btn { 
            background: #000; color: white; border: 2px solid var(--cherry); padding: 10px 30px; 
            cursor: pointer; font-family: 'Bebas Neue'; font-size: 1.2rem; transition: 0.3s;
        }
        .nav-btn:hover { background: var(--cherry); }
    </style>
</head>
<body>

    <nav>
        <button onclick="tab('home')">HOME</button>
        <button onclick="tab('planner')">PLANNER</button>
        <button onclick="tab('diary')">THE DIARY</button>
    </nav>

    <div id="home" class="view active">
        <div class="moodboard">
            <h1 class="hero-text">ULTRAVIOLENCE</h1>
            <div class="scrapbook-area">
                <div class="polaroid">
                    <div style="text-align:center; font-family:'Bebas Neue'; padding-bottom:5px;">GETAWAY</div>
                    <img src="Cadillac.png">
                </div>
                <div class="polaroid" style="transform: rotate(3deg);">
                    <div style="text-align:center; font-family:'Bebas Neue'; padding-bottom:5px;">LANA</div>
                    <img src="lanacig.png">
                </div>
                <div class="polaroid" style="transform: rotate(-1deg);">
                    <div style="text-align:center; font-family:'Bebas Neue'; padding-bottom:5px;">DIET SODA</div>
                    <img src="coke.png">
                </div>
            </div>
        </div>
    </div>

    <div id="planner" class="view">
        <div class="planner-container">
            <div class="calendar-view">
                <div class="grid-header">
                    <div style="width:80px"></div>
                    <div class="day-label">SUN 1</div><div class="day-label">MON 2</div><div class="day-label">TUE 3</div><div class="day-label">WED 4</div><div class="day-label">THU 5</div><div class="day-label">FRI 6</div><div class="day-label">SAT 7</div>
                </div>
                <div class="scroll-area">
                    <div class="time-col" id="timeLabels"></div>
                    <div class="grid-columns" id="gridCols"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="diary" class="view">
        <div class="diary-flex">
            <div class="archive-side">
                <h3>ARCHIVES</h3>
                
                <label>TYPOGRAPHY</label>
                <select id="fnt" onchange="applyStyle()">
                    <option value="'IM Fell English SC'">Old English</option>
                    <option value="'Courier Prime'">Typewriter</option>
                    <option value="'Homemade Apple'">Handwritten</option>
                    <option value="'Special Elite'">Grunge Elite</option>
                    <option value="'Dancing Script'">Cursive Script</option>
                    <option value="'Parisienne'">Coquette</option>
                    <option value="'Libre Barcode 39'">Barcode</option>
                    <option value="'Playfair Display'">Classic Serif</option>
                    <option value="'Arial'">Arial</option>
                    <option value="'Bebas Neue'">Bold Display</option>
                </select>

                <label>SIZE</label>
                <input type="range" id="sz" min="14" max="35" value="20" oninput="applyStyle()">

                <label>JUMP TO DATE</label>
                <input type="date" onchange="goToDate(this.value)">

                <label>SEARCH WORDS</label>
                <input type="text" placeholder="Find in entries..." onkeyup="wordSearch(this.value)">
                
                <div id="results"></div>
            </div>

            <div class="book">
                <div class="page-content">
                    <h2 id="dateHeader" style="font-family:'Bebas Neue'; color:var(--cherry); margin:0; font-size:2.5rem;"></h2>
                    <textarea id="leftPage" onkeyup="saveEntry()" placeholder="Dear Diary..."></textarea>
                </div>
                <div class="page-content">
                    <textarea id="rightPage" onkeyup="saveEntry()" placeholder="..."></textarea>
                </div>

                <div class="book-nav">
                    <button class="nav-btn" onclick="changePage(-1)">PREVIOUS PAGE</button>
                    <button class="nav-btn" onclick="changePage(1)">NEXT PAGE</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date().toISOString().split('T')[0];
        let diaryData = JSON.parse(localStorage.getItem('uv_diary_final')) || {};

        function tab(name) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(name).classList.add('active');
            if(name === 'diary') loadDiary();
        }

        // DIARY FUNCTIONS
        function loadDiary() {
            const displayDate = new Date(currentDate).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }).toUpperCase();
            document.getElementById('dateHeader').innerText = displayDate;
            
            const content = diaryData[currentDate] || { left: "", right: "" };
            document.getElementById('leftPage').value = content.left;
            document.getElementById('rightPage').value = content.right;
            applyStyle();
        }

        function saveEntry() {
            diaryData[currentDate] = {
                left: document.getElementById('leftPage').value,
                right: document.getElementById('rightPage').value
            };
            localStorage.setItem('uv_diary_final', JSON.stringify(diaryData));
        }

        function changePage(days) {
            saveEntry();
            let d = new Date(currentDate);
            d.setDate(d.getDate() + days);
            currentDate = d.toISOString().split('T')[0];
            loadDiary();
        }

        function goToDate(val) {
            if(val) { currentDate = val; loadDiary(); }
        }

        function applyStyle() {
            const f = document.getElementById('fnt').value;
            const s = document.getElementById('sz').value + "px";
            document.querySelectorAll('textarea').forEach(t => {
                t.style.fontFamily = f;
                t.style.fontSize = s;
            });
        }

        // SEARCH FUNCTION
        function wordSearch(query) {
            const resDiv = document.getElementById('results');
            resDiv.innerHTML = "";
            if (query.length < 2) return;

            for (let date in diaryData) {
                const text = (diaryData[date].left + diaryData[date].right).toLowerCase();
                if (text.includes(query.toLowerCase())) {
                    const item = document.createElement('div');
                    item.className = 'search-item';
                    item.innerText = "Entry: " + date;
                    item.onclick = () => { currentDate = date; loadDiary(); };
                    resDiv.appendChild(item);
                }
            }
        }

        // PLANNER GENERATOR (UNTOUCHED LOGIC)
        for(let i=0; i<24; i++) {
            let l = document.createElement('div'); l.className='time-slot-label'; l.innerText=i+":00";
            document.getElementById('timeLabels').appendChild(l);
        }
        for(let d=0; d<7; d++) {
            let col = document.createElement('div'); col.className='grid-day';
            for(let h=0; h<24; h++) {
                let s = document.createElement('div'); s.className='hour-slot';
                col.appendChild(s);
            }
            document.getElementById('gridCols').appendChild(col);
        }
    </script>
</body>
</html>
