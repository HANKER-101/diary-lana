<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ultraviolence | Pro Planner & Diary</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Times+New+Roman&family=Courier+Prime&family=Homemade+Apple&family=Special+Elite&family=Playfair+Display:ital,wght@1,700&family=Parisienne&family=Dancing+Script&family=IM+Fell+English+SC&family=Libre+Barcode+39&display=swap');

        :root {
            --cherry: #8b0000;
            --cream: #f4f1ea;
            --ink: #1a1a1a; 
            --paper: #fdfaf0;
        }

        body { background-color: #000; margin: 0; padding: 0; font-family: 'Courier Prime', monospace; overflow-x: hidden; color: white; min-height: 100vh; }

        /* NAVIGATION */
        nav {
            background: #000; padding: 20px; display: flex; justify-content: center; gap: 50px;
            position: sticky; top: 0; z-index: 9999; border-bottom: 4px solid var(--cherry);
        }
        nav button {
            background: transparent; border: none; color: white; font-family: 'Bebas Neue'; 
            font-size: 1.8rem; cursor: pointer; letter-spacing: 3px; transition: 0.3s;
        }
        nav button:hover { color: var(--cherry); }

        .view { display: none; width: 100%; min-height: 100vh; }
        .view.active { display: block; }
        #diary.active { display: flex; justify-content: center; align-items: center; background: #1a120d; }

        /* HOME PAGE - FIXED HOVER & TEXT */
        .moodboard { padding: 50px; display: flex; flex-direction: column; align-items: center; text-align: center; }
        .hero-text { font-family: 'Playfair Display'; font-style: italic; font-size: 6rem; margin: 20px 0 0 0; color: white; }
        .home-bio { font-family: 'Courier Prime'; max-width: 650px; opacity: 0.8; margin: 10px 0 50px 0; line-height: 1.6; font-size: 1.1rem; }
        
        .scrapbook-area { display: flex; gap: 40px; justify-content: center; align-items: center; padding-bottom: 50px; }
        .polaroid { 
            background: white; padding: 15px 15px 40px 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); 
            transition: transform 0.6s ease; width: 250px; color: #000; cursor: pointer;
        }
        .polaroid img { 
            width: 100%; height: 300px; object-fit: cover; 
            filter: grayscale(100%); transition: filter 0.8s ease; 
        }
        .polaroid p { 
            font-family: 'Dancing Script', cursive !important; 
            font-size: 1.4rem; margin-top: 15px; color: #000;
        }
        .polaroid:hover { transform: scale(1.05) rotate(0deg) !important; z-index: 10; }
        .polaroid:hover img { filter: grayscale(0%); }

        /* PLANNER & CHECKLIST */
        .planner-container { display: flex; height: calc(100vh - 80px); background: white; color: #000; }
        .sidebar { width: 320px; background: #000; color: white; padding: 25px; border-right: 2px solid var(--cherry); }
        .todo-input { width: 100%; padding: 12px; background: #111; border: 1px solid #333; color: white; font-family: 'Courier Prime'; box-sizing: border-box; }
        .todo-list { list-style: none; padding: 0; margin-top: 20px; }
        .todo-item { display: flex; align-items: center; gap: 10px; padding: 10px 0; border-bottom: 1px solid #222; }
        .todo-item input[type="checkbox"] { appearance: none; width: 20px; height: 20px; border: 2px solid var(--cherry); border-radius: 50%; cursor: pointer; }
        .todo-item input[type="checkbox"]:checked { background: var(--cherry); }

        /* CALENDAR GRID */
        .calendar-view { flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; }
        .grid-header { display: grid; grid-template-columns: 80px repeat(7, 1fr); background: #f9f9f9; border-bottom: 2px solid #000; }
        .day-label { padding: 10px; text-align: center; font-family: 'Bebas Neue'; border-left: 1px solid #ddd; }
        .scroll-area { overflow-y: scroll; flex-grow: 1; display: flex; }
        .time-col { width: 80px; background: #f0f0f0; border-right: 1px solid #ccc; }
        .time-slot-label { height: 60px; text-align: center; font-size: 0.7rem; color: #888; border-bottom: 1px solid #eee; line-height: 60px; }
        .grid-columns { display: grid; grid-template-columns: repeat(7, 1fr); width: 100%; }
        .grid-day { border-left: 1px solid #eee; height: 1440px; position: relative; }
        .hour-slot { height: 60px; border-bottom: 1px solid #f0f0f0; cursor: cell; }
        .event { position: absolute; left: 2px; right: 2px; background: var(--cherry); color: white; padding: 5px; font-size: 0.7rem; border-radius: 3px; cursor: pointer; }

        /* DIARY CONTROLS - ROUNDED BUTTONS */
        .archive-side { width: 280px; background: rgba(0,0,0,0.95); color: white; padding: 25px; height: 650px; display: flex; flex-direction: column; gap: 15px; }
        .archive-side label { font-family: 'Bebas Neue'; color: #666; font-size: 0.8rem; letter-spacing: 1px; }
        
        input[type=range] { -webkit-appearance: none; background: #333; height: 4px; border-radius: 5px; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: var(--cherry); cursor: pointer; }

        .archive-side select, .archive-side input[type="date"], .archive-side input[type="text"] {
            background: #111; border: 1px solid #333; color: white; padding: 10px; border-radius: 8px; font-family: 'Courier Prime';
        }
        .archive-side button { 
            border-radius: 30px; padding: 12px; font-family: 'Bebas Neue'; cursor: pointer; transition: 0.3s; 
        }

        /* DIARY BOOK */
        #bookWrapper { position: relative; perspective: 1500px; width: 900px; height: 650px; }
        #bookCover { width: 100%; height: 100%; background: #1a120d; border: 10px solid #000; border-left: 25px solid #000; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100; position: absolute; transition: 0.8s; transform-origin: left; }
        .book { width: 100%; height: 100%; background: var(--paper); display: flex; border: 4px solid #000; visibility: hidden; color: #000; }
        .page-content { width: 50%; padding: 50px; background-image: linear-gradient(#e5e5e5 1px, transparent 1px); background-size: 100% 35px; position: relative; }
        textarea { width: 100%; height: 100%; background: transparent; border: none; outline: none; resize: none; line-height: 35px; font-size: 20px; }
        textarea.bold-text { font-weight: bold; }

        /* CENTER MODAL */
        #customModal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 20000; align-items: center; justify-content: center;
        }
        .modal-box {
            background: var(--paper); padding: 40px; border: 5px solid #000; width: 400px; text-align: center; color: #000;
        }
        .modal-box h2 { font-family: 'Bebas Neue'; color: var(--cherry); margin-top: 0; font-size: 2rem; }
        .modal-box input { width: 100%; padding: 15px; margin: 20px 0; border: 2px solid #000; font-family: 'Courier Prime'; box-sizing: border-box; }
        .modal-btns { display: flex; gap: 10px; justify-content: center; }
        .modal-btns button { padding: 10px 25px; font-family: 'Bebas Neue'; cursor: pointer; border: none; border-radius: 5px; }
        .btn-save { background: var(--cherry); color: white; }
        .btn-del { background: #000; color: white; }
    </style>
</head>
<body>

    <nav>
        <button onclick="tab('home')">HOME</button>
        <button onclick="tab('planner')">PLANNER</button>
        <button onclick="tab('diary')">THE DIARY</button>
    </nav>

    <div id="home" class="view active">
        <div class="moodboard">
            <h1 class="hero-text">West Coast Log</h1>
            <p style="letter-spacing: 5px; opacity: 0.6; margin-bottom: 5px;">VINTAGE ARCHIVE.</p>
            <p class="home-bio">
                Welcome to your digital log. This is a private space to architect your life, 
                schedule your getaway, and archive your deepest thoughts.
            </p>
            <div class="scrapbook-area">
                <div class="polaroid" style="transform: rotate(-3deg);"><img src="lanaflag.png"><p>"Red, white, blue"</p></div>
                <div class="polaroid" style="transform: rotate(2deg);"><img src="coke.png"><p>"Coca-Cola"</p></div>
                <div class="polaroid" style="transform: rotate(-1deg);"><img src="lanacig.png"><p>"Sweet like cigarettes"</p></div>
            </div>
        </div>
    </div>

    <div id="planner" class="view">
        <div class="planner-container">
            <div class="sidebar">
                <h2 style="font-family:'Bebas Neue'; color:var(--cherry);">CHECKLIST</h2>
                <input type="text" class="todo-input" id="todoInp" placeholder="+ Add task..." onkeypress="addTodo(event)">
                <ul class="todo-list" id="todoList"></ul>
            </div>
            <div class="calendar-view">
                <div class="grid-header">
                    <div style="width:80px"></div>
                    <div class="day-label">SUN</div><div class="day-label">MON</div><div class="day-label">TUE</div><div class="day-label">WED</div><div class="day-label">THU</div><div class="day-label">FRI</div><div class="day-label">SAT</div>
                </div>
                <div class="scroll-area">
                    <div class="time-col" id="timeLabels"></div>
                    <div class="grid-columns" id="gridCols"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="diary" class="view">
        <div class="archive-side">
            <h3 style="font-family:'Times New Roman'; color:var(--cherry); font-size:2rem; margin:0;">ARCHIVES</h3>
            <label>TYPEFACE</label>
            <select id="fnt" onchange="styleBook()">
                <option value="'IM Fell English SC'">Old English</option>
                <option value="'Courier Prime'">Typewriter</option>
                <option value="'Homemade Apple'">Handwritten</option>
                <option value="'Special Elite'">Grunge Elite</option>
                <option value="'Dancing Script'">Cursive Script</option>
                <option value="'Parisienne'">Coquette</option>
                <option value="'Libre Barcode 39'">Barcode</option>
                <option value="'Playfair Display'">Classic Serif</option>
                <option value="'Arial'">Arial</option>
                <option value="'Bebas Neue'">Bold Display</option>
            </select>
            
            <label>INK SIZE</label>
            <input type="range" id="sz" min="14" max="35" value="20" oninput="styleBook()">

            <button onclick="toggleBold()" style="background:#111; color:white; border:1px solid #333;">TOGGLE BOLD</button>

            <label>JUMP TO DATE</label>
            <input type="date" id="dateJump" onchange="jump(this.value)">

            <label>SEARCH LOGS</label>
            <input type="text" id="searchTerm" placeholder="Keywords..." onkeyup="searchWords()">
            <div id="searchResults" style="overflow-y:auto; flex-grow:1;"></div>

            <button onclick="deleteEntry()" style="background:none; border:1px solid var(--cherry); color:var(--cherry);">BURN ENTRY</button>
            <button onclick="closeBook()" style="background:var(--cherry); color:white; border:none;">CLOSE ARCHIVE</button>
        </div>

        <div id="bookWrapper">
            <div id="bookCover" onclick="openBook()">
                <div style="text-align:center; border:2px solid var(--cherry); padding:40px;">
                    <h1 style="font-family:'Playfair Display'; color:var(--cream); font-size:3rem; margin:0;">ULTRAVIOLENCE</h1>
                    <p style="font-family:'Bebas Neue'; color:var(--cherry); letter-spacing:5px;">PRIVATE ARCHIVE</p>
                </div>
            </div>
            <div class="book" id="bookObj">
                <div class="page-content" style="border-right:1px solid #ddd;">
                    <h3 id="dateDisplay" style="font-family:'Bebas Neue'; color:var(--cherry); margin:0;"></h3>
                    <textarea id="txtL" onkeyup="save()" placeholder="Write..."></textarea>
                    <button onclick="move(-1)" style="position:absolute; bottom:20px; left:20px; background:black; color:white; border:none; padding:10px; cursor:pointer; font-family:'Bebas Neue'; border-radius:5px;">PREV</button>
                </div>
                <div class="page-content">
                    <textarea id="txtR" onkeyup="save()" placeholder="..."></textarea>
                    <button onclick="move(1)" style="position:absolute; bottom:20px; right:20px; background:black; color:white; border:none; padding:10px; cursor:pointer; font-family:'Bebas Neue'; border-radius:5px;">NEXT</button>
                </div>
            </div>
        </div>
    </div>

    <div id="customModal">
        <div class="modal-box">
            <h2 id="modalTitle">LOG ENTRY</h2>
            <input type="text" id="modalInput">
            <div class="modal-btns">
                <button class="btn-save" onclick="handleModalSave()">SAVE</button>
                <button class="btn-del" id="modalDelBtn" onclick="handleModalDelete()">DELETE</button>
                <button style="background:#ccc;" onclick="closeModal()">CANCEL</button>
            </div>
        </div>
    </div>

    <script>
        let day = new Date().toISOString().split('T')[0];
        let logs = JSON.parse(localStorage.getItem('uv_logs')) || {};
        let currentEditingId = null;
        let currentEditingType = null;
        let selSlot = null;

        function tab(t) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(t).classList.add('active');
            if(t==='diary') buildDiary();
        }

        /* MODAL */
        function openModal(title, val, type, id = null) {
            document.getElementById('customModal').style.display = 'flex';
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalInput').value = val;
            currentEditingType = type;
            currentEditingId = id;
            document.getElementById('modalDelBtn').style.display = id ? 'block' : 'none';
        }
        function closeModal() { document.getElementById('customModal').style.display = 'none'; }

        function handleModalSave() {
            const val = document.getElementById('modalInput').value;
            if(!val) return;
            if(currentEditingType === 'new_event') {
                const id = Date.now();
                const ev = document.createElement('div');
                ev.className = 'event'; ev.id = `ev-${id}`;
                ev.style.top = (selSlot.h * 60 + 5) + "px";
                ev.innerHTML = `<span onclick="event.stopPropagation(); openModal('EDIT EVENT', '${val}', 'event', '${id}')">${val}</span>`;
                document.getElementById('gridCols').children[selSlot.d].appendChild(ev);
            } else if(currentEditingType === 'event') {
                document.querySelector(`#ev-${currentEditingId} span`).innerText = val;
            } else if(currentEditingType === 'todo') {
                document.querySelector(`#todo-${currentEditingId} span`).innerText = val;
            }
            closeModal();
        }

        function handleModalDelete() {
            if(currentEditingType === 'event') document.getElementById(`ev-${currentEditingId}`).remove();
            if(currentEditingType === 'todo') document.getElementById(`todo-${currentEditingId}`).remove();
            closeModal();
        }

        /* PLANNER SETUP */
        for(let i=0; i<24; i++) {
            let l = document.createElement('div'); l.className='time-slot-label'; l.innerText=i+":00";
            document.getElementById('timeLabels').appendChild(l);
        }
        for(let d=0; d<7; d++) {
            let col = document.createElement('div'); col.className='grid-day';
            for(let h=0; h<24; h++) {
                let s = document.createElement('div'); s.className='hour-slot';
                s.onclick = () => { selSlot={d,h}; openModal('NEW EVENT', '', 'new_event'); };
                col.appendChild(s);
            }
            document.getElementById('gridCols').appendChild(col);
        }

        function addTodo(e) {
            if(e.key==='Enter' && e.target.value!=="") {
                const id = Date.now();
                const val = e.target.value;
                const li = document.createElement('li');
                li.className = 'todo-item'; li.id = `todo-${id}`;
                li.innerHTML = `<input type="checkbox"> <span onclick="openModal('EDIT TASK', '${val}', 'todo', '${id}')">${val}</span>`;
                document.getElementById('todoList').appendChild(li);
                e.target.value = "";
            }
        }

        /* DIARY */
        function buildDiary() {
            document.getElementById('dateDisplay').innerText = new Date(day + 'T12:00:00').toLocaleDateString('en-US', {month:'long', day:'numeric', year:'numeric'}).toUpperCase();
            let data = logs[day] || {l:"", r:"", bold: false};
            document.getElementById('txtL').value = data.l; document.getElementById('txtR').value = data.r;
            if(data.bold) { document.getElementById('txtL').classList.add('bold-text'); document.getElementById('txtR').classList.add('bold-text'); }
            else { document.getElementById('txtL').classList.remove('bold-text'); document.getElementById('txtR').classList.remove('bold-text'); }
            styleBook();
        }
        function save() {
            logs[day] = { l: document.getElementById('txtL').value, r: document.getElementById('txtR').value, bold: document.getElementById('txtL').classList.contains('bold-text') };
            localStorage.setItem('uv_logs', JSON.stringify(logs));
        }
        function toggleBold() { document.getElementById('txtL').classList.toggle('bold-text'); document.getElementById('txtR').classList.toggle('bold-text'); save(); }
        function move(n) { save(); let d = new Date(day + 'T12:00:00'); d.setDate(d.getDate() + n); day = d.toISOString().split('T')[0]; buildDiary(); }
        function openBook() { const cover = document.getElementById('bookCover'); cover.style.transform = "rotateY(-110deg)"; cover.style.opacity = "0"; setTimeout(() => { cover.style.visibility = "hidden"; document.getElementById('bookObj').style.visibility = "visible"; }, 600); }
        function closeBook() { const cover = document.getElementById('bookCover'); document.getElementById('bookObj').style.visibility = "hidden"; cover.style.visibility = "visible"; cover.style.opacity = "1"; cover.style.transform = "rotateY(0deg)"; }
        function styleBook() { let f = document.getElementById('fnt').value; let s = document.getElementById('sz').value+"px"; document.querySelectorAll('#diary textarea').forEach(t => { t.style.fontFamily=f; t.style.fontSize=s; }); }
        function jump(v) { if(v) { day=v; buildDiary(); } }
        function searchWords() {
            const query = document.getElementById('searchTerm').value.toLowerCase();
            const res = document.getElementById('searchResults');
            res.innerHTML = ""; if(query.length < 2) return;
            for (let d in logs) { if((logs[d].l + logs[d].r).toLowerCase().includes(query)) {
                let div = document.createElement('div'); div.style.padding = "10px"; div.style.cursor = "pointer"; div.style.color = "var(--cherry)"; div.innerText = d;
                div.onclick = () => { day = d; buildDiary(); }; res.appendChild(div);
            }}
        }
        function deleteEntry() { if (confirm("Burn this entry?")) { delete logs[day]; localStorage.setItem('uv_logs', JSON.stringify(logs)); buildDiary(); } }
    </script>
</body>
</html>
