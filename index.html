<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ultraviolence | Archive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Courier+Prime&family=Homemade+Apple&family=Special+Elite&family=Playfair+Display:ital,wght@1,900&family=Parisienne&family=Libre+Barcode+39&family=IM+Fell+English+SC&display=swap');

        :root {
            --cherry: #8b0000;
            --cream: #f4f1ea;
            --ink: #1a1a1a;
            --paper: #fdfaf0;
        }

        body { background-color: var(--cream); margin: 0; padding: 0; font-family: 'Courier Prime', monospace; overflow-x: hidden; color: var(--ink); }

        /* SLEEK TEXT NAV */
        nav {
            background: #000; padding: 25px; display: flex; justify-content: center; gap: 60px;
            position: sticky; top: 0; z-index: 9999; border-bottom: 4px solid var(--cherry);
        }
        nav button {
            background: transparent; border: none; color: white; font-family: 'Bebas Neue'; 
            font-size: 2.2rem; cursor: pointer; letter-spacing: 4px; transition: 0.4s ease;
        }
        nav button:hover { color: var(--cherry); transform: translateY(-2px); }
        nav button.active-nav { color: var(--cherry); text-decoration: underline; }

        .view { display: none; min-height: 100vh; width: 100%; }
        .view.active { display: block; animation: smoothFade 0.6s ease; }
        @keyframes smoothFade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* HOME PAGE MOODBOARD */
        .moodboard { padding: 60px; display: flex; flex-direction: column; align-items: center; background: #000; color: white; text-align: center; }
        .hero-title { font-family: 'Playfair Display'; font-style: italic; font-size: 6rem; margin: 0; animation: tracking-in-expand 0.7s cubic-bezier(0.215, 0.610, 0.355, 1.000) both; }
        .scrapbook-area { display: flex; gap: 40px; margin-top: 50px; }
        .polaroid { background: white; padding: 15px 15px 50px 15px; box-shadow: 0 20px 50px rgba(0,0,0,0.8); transition: transform 0.5s ease; }
        .polaroid img { width: 260px; height: 330px; object-fit: cover; filter: grayscale(100%); transition: filter 1.2s ease; }
        .polaroid:hover { transform: scale(1.05) rotate(0deg) !important; z-index: 10; }
        .polaroid:hover img { filter: grayscale(0%); }

        /* PRO PLANNER */
        .planner-view { background: white; padding: 40px; }
        .cal-container { max-width: 1200px; margin: 0 auto; border: 2px solid #000; box-shadow: 20px 20px 0 var(--cherry); }
        .cal-header { background: #000; color: white; padding: 20px; display: flex; justify-content: space-between; font-family: 'Bebas Neue'; font-size: 2.5rem; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); background: #000; gap: 1px; }
        .cal-label { background: #f8f8f8; padding: 15px; text-align: center; font-weight: bold; border-bottom: 2px solid #000; }
        .cal-cell { background: white; min-height: 140px; padding: 10px; cursor: pointer; transition: 0.3s; overflow-y: auto; }
        .cal-cell:hover { background: #fffcf0; }
        .ev-chip { background: var(--cherry); color: white; font-size: 0.7rem; padding: 4px 8px; margin-top: 5px; border-radius: 3px; display: flex; justify-content: space-between; }
        .ev-chip:hover { opacity: 0.8; }

        /* 3D DIARY BOOK */
        #diary { background: #130d0a; display: flex; align-items: center; justify-content: center; padding: 50px 0; perspective: 1500px; }
        .book-wrap { width: 1000px; height: 700px; transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .book { width: 100%; height: 100%; display: flex; box-shadow: 0 0 100px #000; }
        .page { width: 50%; height: 100%; padding: 60px; box-sizing: border-box; background: var(--paper); border: 1px solid #ddd; background-image: linear-gradient(#e5e5e5 1px, transparent 1px); background-size: 100% 35px; }
        .left-p { border-right: 4px solid rgba(0,0,0,0.15); border-radius: 5px 0 0 5px; }
        .right-p { border-radius: 0 5px 5px 0; }
        
        .flipping { animation: pageTurn 0.8s ease-in-out; }
        @keyframes pageTurn { 
            0% { transform: rotateY(0deg) scale(1); } 
            50% { transform: rotateY(-20deg) scale(0.9); opacity: 0.5; }
            100% { transform: rotateY(0deg) scale(1); } 
        }

        textarea { width: 100%; height: 100%; background: transparent; border: none; outline: none; resize: none; line-height: 35px; color: #1a1a1a; }

        /* SIDE PANEL */
        .archive-sidebar { width: 280px; background: rgba(0,0,0,0.95); height: 700px; padding: 25px; color: white; border-right: 4px solid var(--cherry); display: flex; flex-direction: column; gap: 15px; }
        .archive-sidebar select, .archive-sidebar input { background: #1a1a1a; border: 1px solid #333; color: white; padding: 12px; font-family: 'Courier Prime'; width: 100%; box-sizing: border-box; }

        /* EVENT MODAL */
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border: 6px solid #000; padding: 35px; z-index: 10001; width: 350px; box-shadow: 0 0 0 1000px rgba(0,0,0,0.8); }
    </style>
</head>
<body>

    <nav id="topNav">
        <button onclick="tab('home')" id="nav-home">HOME</button>
        <button onclick="tab('planner')" id="nav-planner">PLANNER</button>
        <button onclick="tab('diary')" id="nav-diary">THE DIARY</button>
    </nav>

    <div id="home" class="view active">
        <div class="moodboard">
            <h1 class="hero-title">Ultraviolence</h1>
            <p style="letter-spacing: 8px; font-size: 1.3rem; opacity: 0.7; margin-top: 10px;">A PRIVATE DIGITAL ARCHIVE</p>
            <div class="scrapbook-area">
                <div class="polaroid" style="transform: rotate(-4deg);"><img src="Cadillac.png"><p style="color:black;text-align:center;font-family:'Bebas Neue'; margin-top:15px;">GETAWAY</p></div>
                <div class="polaroid" style="transform: rotate(3deg);"><img src="lanacig.png"><p style="color:black;text-align:center;font-family:'Bebas Neue'; margin-top:15px;">LANA</p></div>
                <div class="polaroid" style="transform: rotate(-2deg);"><img src="coke.png"><p style="color:black;text-align:center;font-family:'Bebas Neue'; margin-top:15px;">DIET SODA</p></div>
            </div>
            <p style="margin-top: 50px; max-width: 700px; font-size: 1.2rem; line-height: 2; opacity: 0.9;">
                Architect your life in the <b>Planner</b>. Archive your deepest thoughts in the <b>Diary</b>. 
                Designed for the high-fidelity coquette aesthetic.
            </p>
        </div>
    </div>

    <div id="planner" class="view">
        <div class="planner-view">
            <div class="cal-container">
                <div class="cal-header">
                    <span>FEBRUARY 2026</span>
                    <span style="opacity: 0.4; font-size: 1.2rem;">PRO PLANNER v2.0</span>
                </div>
                <div class="cal-grid" id="pGrid">
                    <div class="cal-label">SUN</div><div class="cal-label">MON</div><div class="cal-label">TUE</div><div class="cal-label">WED</div><div class="cal-label">THU</div><div class="cal-label">FRI</div><div class="cal-label">SAT</div>
                </div>
            </div>
        </div>
    </div>

    <div id="diary" class="view">
        <div style="display:flex; justify-content:center; align-items:center;">
            <div class="archive-sidebar">
                <h2 style="font-family:'Bebas Neue'; font-size:2.5rem; margin:0; color:var(--cherry);">ARCHIVES</h2>
                <label style="font-size:0.7rem; letter-spacing:1px;">FONT STYLE</label>
                <select id="fntSel" onchange="applyDiaryStyle()">
                    <option value="'Homemade Apple'">Handwritten</option>
                    <option value="'Special Elite'">Grunge Elite</option>
                    <option value="'Parisienne'">Coquette</option>
                    <option value="'IM Fell English SC'">Old English</option>
                    <option value="'Libre Barcode 39'">Barcode</option>
                    <option value="'Courier Prime'">Typewriter</option>
                    <option value="'Playfair Display'">Classic Serif</option>
                    <option value="'Dancing Script'">Cursive</option>
                </select>
                <label style="font-size:0.7rem; letter-spacing:1px;">FONT SIZE</label>
                <input type="range" id="sizeRange" min="14" max="40" value="20" oninput="applyDiaryStyle()">
                <label style="font-size:0.7rem; letter-spacing:1px;">JUMP TO DATE</label>
                <input type="date" onchange="jumpDiary(this.value)">
                <input type="text" placeholder="Search entries..." onkeyup="searchDiary(this.value)">
                <div id="sResults" style="flex-grow:1; overflow-y:auto; border-top:1px solid #333;"></div>
            </div>
            <div class="book-wrap" id="bWrap">
                <div class="book">
                    <div class="page left-p">
                        <h3 id="dLabel" style="font-family:'Bebas Neue'; color:var(--cherry); font-size:2rem; margin:0 0 10px 0;"></h3>
                        <textarea id="areaL" onkeyup="saveDiary()" placeholder="Start here..."></textarea>
                    </div>
                    <div class="page right-p">
                        <textarea id="areaR" onkeyup="saveDiary()" placeholder="Continue..."></textarea>
                    </div>
                    <div style="position:absolute; bottom:-75px; width:100%; display:flex; justify-content:space-between;">
                        <button onclick="moveDiary(-1)" style="background:black; color:white; border:none; padding:15px 40px; font-family:'Bebas Neue'; cursor:pointer; font-size:1.6rem; letter-spacing:2px;">◀ PREV PAGE</button>
                        <button onclick="moveDiary(1)" style="background:black; color:white; border:none; padding:15px 40px; font-family:'Bebas Neue'; cursor:pointer; font-size:1.6rem; letter-spacing:2px;">NEXT PAGE ▶</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="pModal">
        <h2 style="font-family:'Bebas Neue'; margin:0;" id="modalTitle">MANAGE EVENT</h2>
        <div id="existingEvents" style="margin:15px 0;"></div>
        <hr>
        <p style="font-size:0.8rem; margin:15px 0 5px 0;">ADD NEW:</p>
        <input type="time" id="evTime" style="width:100%; padding:10px; margin-bottom:10px;">
        <input type="text" id="evName" placeholder="What's the plan?" style="width:100%; padding:10px; box-sizing:border-box;">
        <div style="margin-top:20px; display:flex; gap:10px;">
            <button onclick="addEv()" style="flex:1; background:var(--cherry); color:white; border:none; padding:12px; cursor:pointer; font-family:'Bebas Neue';">SAVE</button>
            <button onclick="closePModal()" style="flex:1; background:#ccc; border:none; padding:12px; cursor:pointer;">CLOSE</button>
        </div>
    </div>

    <script>
        let curD = new Date().toISOString().split('T')[0];
        let dDB = JSON.parse(localStorage.getItem('uv_diary_v9')) || {};
        let pDB = JSON.parse(localStorage.getItem('uv_planner_v9')) || {};
        let activePDay = null;

        function tab(t) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-nav'));
            document.getElementById(t).classList.add('active');
            document.getElementById('nav-'+t).classList.add('active-nav');
            if(t === 'planner') renderPlanner();
            if(t === 'diary') renderDiary();
        }

        /* PLANNER */
        function renderPlanner() {
            const g = document.getElementById('pGrid');
            g.innerHTML = '<div class="cal-label">SUN</div><div class="cal-label">MON</div><div class="cal-label">TUE</div><div class="cal-label">WED</div><div class="cal-label">THU</div><div class="cal-label">FRI</div><div class="cal-label">SAT</div>';
            for(let i=1; i<=28; i++) {
                const c = document.createElement('div');
                c.className = 'cal-cell';
                c.innerHTML = `<b>${i}</b>`;
                if(pDB[i]) {
                    pDB[i].forEach((ev, idx) => {
                        c.innerHTML += `<div class="ev-chip" onclick="event.stopPropagation(); editEv(${i}, ${idx})">${ev.t} ${ev.n}</div>`;
                    });
                }
                c.onclick = () => { activePDay = i; openPModal(); };
                g.appendChild(c);
            }
        }

        function openPModal() {
            document.getElementById('modalTitle').innerText = "FEBRUARY " + activePDay;
            const list = document.getElementById('existingEvents');
            list.innerHTML = "";
            if(pDB[activePDay]) {
                pDB[activePDay].forEach((ev, idx) => {
                    list.innerHTML += `<div style="background:#f0f0f0; padding:8px; margin-bottom:5px; display:flex; justify-content:space-between;">
                        <span>${ev.t} - ${ev.n}</span>
                        <button onclick="delEv(${activePDay}, ${idx})" style="color:red; border:none; background:none; cursor:pointer;">DEL</button>
                    </div>`;
                });
            }
            document.getElementById('pModal').style.display = 'block';
        }

        function addEv() {
            const t = document.getElementById('evTime').value;
            const n = document.getElementById('evName').value;
            if(!pDB[activePDay]) pDB[activePDay] = [];
            pDB[activePDay].push({t, n});
            localStorage.setItem('uv_planner_v9', JSON.stringify(pDB));
            renderPlanner(); openPModal();
        }

        function delEv(day, idx) {
            pDB[day].splice(idx, 1);
            localStorage.setItem('uv_planner_v9', JSON.stringify(pDB));
            renderPlanner(); openPModal();
        }

        function closePModal() { document.getElementById('pModal').style.display='none'; }

        /* DIARY */
        function renderDiary() {
            const wrap = document.getElementById('bWrap');
            wrap.classList.add('flipping');
            
            setTimeout(() => {
                const opt = { month: 'long', day: 'numeric', year: 'numeric' };
                document.getElementById('dLabel').innerText = new Date(curD).toLocaleDateString('en-US', opt).toUpperCase();
                const d = dDB[curD] || {l: "", r: ""};
                document.getElementById('areaL').value = d.l;
                document.getElementById('areaR').value = d.r;
                wrap.classList.remove('flipping');
                applyDiaryStyle();
            }, 400);
        }

        function saveDiary() {
            dDB[curD] = { l: document.getElementById('areaL').value, r: document.getElementById('areaR').value };
            localStorage.setItem('uv_diary_v9', JSON.stringify(dDB));
        }

        function moveDiary(n) {
            saveDiary();
            let d = new Date(curD); d.setDate(d.getDate() + n);
            curD = d.toISOString().split('T')[0];
            renderDiary();
        }

        function applyDiaryStyle() {
            const f = document.getElementById('fntSel').value;
            const s = document.getElementById('sizeRange').value + "px";
            document.querySelectorAll('#diary textarea').forEach(tx => { tx.style.fontFamily = f; tx.style.fontSize = s; });
        }

        function jumpDiary(v) { if(v) { curD = v; renderDiary(); } }

        function searchDiary(q) {
            const r = document.getElementById('sResults'); r.innerHTML = "";
            if(q.length < 2) return;
            for(let d in dDB) {
                if(dDB[d].l.includes(q) || dDB[d].r.includes(q)) {
                    const dv = document.createElement('div');
                    dv.style.padding="10px"; dv.style.borderBottom="1px solid #333"; dv.style.cursor="pointer";
                    dv.innerText = d; dv.onclick = () => jumpDiary(d); r.appendChild(dv);
                }
            }
        }
    </script>
</body>
</html>
