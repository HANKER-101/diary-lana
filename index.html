<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ultraviolence | Archive</title>
    <style>
        /* ALL REQUESTED FONTS */
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Courier+Prime&family=Homemade+Apple&family=Special+Elite&family=Playfair+Display:ital,wght@1,900&family=Parisienne&family=Dancing+Script&family=IM+Fell+English+SC&family=Libre+Barcode+39&display=swap');

        :root {
            --cherry: #8b0000;
            --cream: #f4f1ea;
            --ink: #1a1a1a;
            --paper: #fdfaf0;
        }

        body, html { margin: 0; padding: 0; background-color: var(--cream); font-family: 'Courier Prime', monospace; overflow-x: hidden; color: var(--ink); }

        /* VINTAGE NAV */
        nav {
            background: #000; padding: 20px; display: flex; justify-content: center; gap: 50px;
            position: sticky; top: 0; z-index: 9999; border-bottom: 4px solid var(--cherry);
        }
        nav button {
            background: transparent; border: none; color: white; font-family: 'Bebas Neue'; 
            font-size: 1.8rem; cursor: pointer; letter-spacing: 3px; transition: 0.3s;
        }
        nav button:hover { color: var(--cherry); text-shadow: 0 0 10px var(--cherry); }

        .view { display: none; min-height: calc(100vh - 80px); width: 100%; }
        .view.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- HOME PAGE (PROTECTED) --- */
        .moodboard { padding: 50px; display: flex; flex-direction: column; align-items: center; background: #000; color: white; min-height: 100vh; }
        .hero-text { font-family: 'Playfair Display'; font-style: italic; font-size: 4rem; margin-bottom: 10px; }
        .scrapbook-area { display: flex; gap: 30px; margin-top: 40px; flex-wrap: wrap; justify-content: center; }
        .polaroid { background: white; padding: 15px 15px 50px 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); transition: 0.4s; cursor: crosshair; }
        .polaroid img { width: 250px; height: 320px; object-fit: cover; filter: grayscale(100%); transition: 0.5s; }
        .polaroid:hover { transform: scale(1.05) rotate(0deg) !important; z-index: 10; }
        .polaroid:hover img { filter: grayscale(0%); }

        /* --- GOOGLE STYLE PLANNER --- */
        .planner-layout { display: flex; height: calc(100vh - 84px); background: white; }
        .planner-sidebar { width: 300px; background: #000; color: white; padding: 25px; border-right: 2px solid var(--cherry); display: flex; flex-direction: column; }
        .planner-sidebar h2 { font-family: 'Bebas Neue'; font-size: 2.2rem; color: var(--cherry); margin-bottom: 15px; }
        .todo-in { width: 100%; padding: 10px; background: #111; border: 1px solid #333; color: white; margin-bottom: 20px; }
        .todo-list { flex-grow: 1; overflow-y: auto; list-style: none; padding: 0; }
        .todo-item { display: flex; align-items: center; gap: 10px; padding: 8px 0; border-bottom: 1px solid #222; font-size: 0.85rem; }

        .calendar-container { flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; }
        .cal-header { display: grid; grid-template-columns: 80px repeat(7, 1fr); background: #f9f9f9; border-bottom: 2px solid #ddd; }
        .cal-day-label { padding: 15px; text-align: center; font-family: 'Bebas Neue'; border-left: 1px solid #eee; }

        .cal-scroll { overflow-y: scroll; display: flex; flex-grow: 1; position: relative; }
        .time-gutter { width: 80px; background: #f1f1f1; border-right: 1px solid #ddd; }
        .time-mark { height: 60px; font-size: 0.7rem; text-align: center; color: #999; padding-top: 5px; border-bottom: 1px solid #eee; }
        .day-columns { display: grid; grid-template-columns: repeat(7, 1fr); width: 100%; position: relative; }
        .day-col { border-left: 1px solid #eee; height: 1440px; position: relative; background-image: linear-gradient(#f0f0f0 1px, transparent 1px); background-size: 100% 60px; }
        .day-col:hover { background-color: #fafafa; }
        .event-card { position: absolute; left: 4px; right: 4px; background: var(--cherry); color: white; font-size: 0.7rem; padding: 4px; border-radius: 3px; z-index: 10; }

        /* --- DIARY VIEW --- */
        .diary-wrap { background: #1a120d; display: flex; align-items: center; justify-content: center; padding: 40px 0; height: calc(100vh - 84px); }
        .diary-side { width: 280px; background: rgba(0,0,0,0.9); color: white; padding: 25px; display: flex; flex-direction: column; gap: 10px; height: 650px; }
        .book { width: 900px; height: 650px; background: white; display: flex; box-shadow: 0 0 60px #000; position: relative; }
        .book::before { content: ''; position: absolute; left: 50%; width: 2px; height: 100%; background: rgba(0,0,0,0.1); z-index: 5; }
        .page { width: 50%; padding: 50px; background: var(--paper); background-image: linear-gradient(#e5e5e5 1px, transparent 1px); background-size: 100% 35px; }
        textarea { width: 100%; height: 100%; background: transparent; border: none; outline: none; resize: none; line-height: 35px; }

        /* MODAL */
        #modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border: 5px solid #000; padding: 30px; z-index: 10001; }
    </style>
</head>
<body>

    <nav>
        <button onclick="tab('home')">HOME</button>
        <button onclick="tab('planner')">PLANNER</button>
        <button onclick="tab('diary')">THE DIARY</button>
    </nav>

    <div id="home" class="view active">
        <div class="moodboard">
            <h1 class="hero-text">West Coast Log</h1>
            <p style="letter-spacing: 5px; opacity: 0.7;">VINTAGE ARCHIVE // 2026</p>
            <div class="scrapbook-area">
                <div class="polaroid" style="transform: rotate(-3deg);"><img src="Cadillac.png"><p style="color:black;text-align:center;">THE GETAWAY</p></div>
                <div class="polaroid" style="transform: rotate(2deg);"><img src="lanacig.png"><p style="color:black;text-align:center;">ULTRAVIOLENCE</p></div>
                <div class="polaroid" style="transform: rotate(-1deg);"><img src="coke.png"><p style="color:black;text-align:center;">DIET SODA</p></div>
            </div>
            <div style="margin-top: 50px; max-width: 700px; text-align: center; font-family: 'Courier Prime'; line-height: 1.8;">
                This is your private world. Use the <b>Planner</b> to map out your days and the <b>Diary</b> to write the stories you'll never tell. 
                Everything is saved locally to your browser.
            </div>
        </div>
    </div>

    <div id="planner" class="view">
        <div class="planner-layout">
            <div class="planner-sidebar">
                <h2>LOGBOOK</h2>
                <input type="text" class="todo-in" id="todoTask" placeholder="+ New Task..." onkeypress="addTodo(event)">
                <ul class="todo-list" id="todoContainer"></ul>
            </div>
            <div class="calendar-container">
                <div class="cal-header">
                    <div style="width:80px"></div>
                    <div class="cal-day-label">SUN</div><div class="cal-day-label">MON</div><div class="cal-day-label">TUE</div><div class="cal-day-label">WED</div><div class="cal-day-label">THU</div><div class="cal-day-label">FRI</div><div class="cal-day-label">SAT</div>
                </div>
                <div class="cal-scroll">
                    <div class="time-gutter" id="timeGutter"></div>
                    <div class="day-columns" id="dayCols"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="diary" class="view">
        <div class="diary-wrap">
            <div class="diary-side">
                <h3 style="font-family:'Bebas Neue'; color:var(--cherry);">ARCHIVES</h3>
                <label style="font-size:0.7rem;">FONT SELECT</label>
                <select id="fontSel" onchange="applyDiaryStyle()">
                    <option value="'IM Fell English SC'">Old English</option>
                    <option value="'Courier Prime'">Typewriter</option>
                    <option value="'Homemade Apple'">Handwritten</option>
                    <option value="'Special Elite'">Grunge Elite</option>
                    <option value="'Dancing Script'">Cursive Script</option>
                    <option value="'Parisienne'">Coquette</option>
                    <option value="'Libre Barcode 39'">Barcode</option>
                    <option value="'Playfair Display'">Classic Serif</option>
                    <option value="'Arial'">Arial</option>
                </select>
                <label style="font-size:0.7rem;">SIZE</label>
                <input type="range" id="sizeSel" min="12" max="40" value="20" oninput="applyDiaryStyle()">
                <label style="font-size:0.7rem;">JUMP TO</label>
                <input type="date" onchange="jumpDate(this.value)" style="background:#222; color:white; border:1px solid #444;">
            </div>
            <div class="book">
                <div class="page">
                    <h3 id="diaryDate" style="font-family:'Bebas Neue'; color:var(--cherry); margin:0;"></h3>
                    <textarea id="logL" onkeyup="saveLog()" placeholder="Dear Diary..."></textarea>
                </div>
                <div class="page"><textarea id="logR" onkeyup="saveLog()" placeholder="..."></textarea></div>
                <div style="position:absolute; bottom:-50px; width:100%; display:flex; justify-content:space-between;">
                    <button onclick="moveDay(-1)" style="background:#000; color:#fff; border:none; padding:10px 20px; font-family:'Bebas Neue'; cursor:pointer;">PREV</button>
                    <button onclick="moveDay(1)" style="background:#000; color:#fff; border:none; padding:10px 20px; font-family:'Bebas Neue'; cursor:pointer;">NEXT</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal">
        <h3 style="font-family:'Bebas Neue'; margin:0 0 10px 0;">ADD EVENT</h3>
        <input type="text" id="evInput" placeholder="Meeting / Note..." style="width:100%; padding:10px; margin-bottom:10px;">
        <button onclick="confirmEvent()" style="background:var(--cherry); color:white; border:none; padding:10px; width:100%; cursor:pointer;">SAVE</button>
    </div>

    <script>
        let curDate = new Date().toISOString().split('T')[0];
        let logs = JSON.parse(localStorage.getItem('uv_logs')) || {};
        let activeSlot = null;

        function tab(t) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(t).classList.add('active');
            if(t === 'planner') buildPlanner();
            if(t === 'diary') buildDiary();
        }

        /* PLANNER LOGIC */
        function buildPlanner() {
            const gutter = document.getElementById('timeGutter');
            const cols = document.getElementById('dayCols');
            gutter.innerHTML = ""; cols.innerHTML = "";

            for(let i=0; i<24; i++) {
                let m = document.createElement('div'); m.className = 'time-mark'; m.innerText = i+":00";
                gutter.appendChild(m);
            }

            for(let d=0; d<7; d++) {
                let col = document.createElement('div'); col.className = 'day-col';
                col.onclick = (e) => {
                    const rect = col.getBoundingClientRect();
                    const y = e.clientY - rect.top;
                    const hour = Math.floor(y / 60);
                    activeSlot = { d, h: hour };
                    document.getElementById('modal').style.display = 'block';
                };
                cols.appendChild(col);
            }
        }

        function confirmEvent() {
            const txt = document.getElementById('evInput').value;
            if(!txt) return;
            const card = document.createElement('div');
            card.className = 'event-card';
            card.style.top = (activeSlot.h * 60 + 2) + "px";
            card.style.height = "56px";
            card.innerText = txt;
            document.getElementById('dayCols').children[activeSlot.d].appendChild(card);
            document.getElementById('modal').style.display = 'none';
            document.getElementById('evInput').value = "";
        }

        function addTodo(e) {
            if(e.key === 'Enter' && e.target.value !== "") {
                const li = document.createElement('li'); li.className = 'todo-item';
                li.innerHTML = `<input type="checkbox"> <span>${e.target.value}</span>`;
                document.getElementById('todoContainer').appendChild(li);
                e.target.value = "";
            }
        }

        /* DIARY LOGIC */
        function buildDiary() {
            document.getElementById('diaryDate').innerText = new Date(curDate).toLocaleDateString('en-US', {month:'long', day:'numeric'}).toUpperCase();
            let data = logs[curDate] || {l:"", r:""};
            document.getElementById('logL').value = data.l;
            document.getElementById('logR').value = data.r;
            applyDiaryStyle();
        }

        function saveLog() {
            logs[curDate] = { l: document.getElementById('logL').value, r: document.getElementById('logR').value };
            localStorage.setItem('uv_logs', JSON.stringify(logs));
        }

        function moveDay(n) {
            saveLog();
            let d = new Date(curDate); d.setDate(d.getDate() + n);
            curDate = d.toISOString().split('T')[0];
            buildDiary();
        }

        function applyDiaryStyle() {
            const f = document.getElementById('fontSel').value;
            const s = document.getElementById('sizeSel').value + "px";
            document.querySelectorAll('#diary textarea').forEach(t => { t.style.fontFamily = f; t.style.fontSize = s; });
        }

        function jumpDate(v) { curDate = v; buildDiary(); }
    </script>
</body>
</html>
